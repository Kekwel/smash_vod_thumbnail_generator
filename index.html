<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Smash Thumbnail Generator</title>

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/split.css">
    <link rel="stylesheet" href="css/sprites.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">

    <!-- font NES -->
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <!-- latest NES CSS -->
    <link href="https://unpkg.com/nes.css@latest/css/nes.min.css" rel="stylesheet" />
    <!-- icon material -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Custom NES css -->
    <link rel="stylesheet" href="css/custom_nes.css">

    <script type="text/javascript" src="json/custom-fonts.json"></script>
    <script type="text/javascript" src="json/characters.json"></script>
    <script type="text/javascript" src="img/stock/sprites.json"></script>
</head>

<body>
    <!-- Dialogs -->
    <!-- Credits -->
    <div class="nes-container is-dark with-title window" id="dialog-credits" style="display: none;">
        <div class="bordure-container">
            <p class="title-container">Credits : </p>
            <div>
                <p>Resources : </p>
                <!--                TODO List-->
                <div class="lists">
                    <ul class="nes-list is-disc">
                        <li><a target="_blank" rel="noopener" href="https://www.spriters-resource.com/nintendo_switch/supersmashbrosultimate/">Renders Smash Ultimate</a></li>
                        <li><a target="_blank" rel="noopener" class="" href="https://projectplusgame.com/download/">Renders Project +</a></li>
                        <li><a target="_blank" rel="noopener" class="" href="https://drive.google.com/drive/folders/1SMjNgynt7c-VdKJJ9_wTcKSasS2NcVSF">Renders RoA</a></li>
                        <li>Custom stock icons by me</li>
                    </ul>
                </div>
                <!--                TODO FONTS, automatique ?-->
                <p>Polices d'écritures :</p>
                <div class="lists">
                    <ul class="nes-list is-disc">
                        <li><a target="_blank" rel="noopener" class="" href="https://www.dafont.com/blacklisted.font">BlackListed</a>, by <a target="_blank" rel="noopener" href="https://jaydegarrow.wixsite.com/jaydefonts">Jayde Garrow</a></li>
                        <li><a target="_blank" rel="noopener" class="" href="http://bit.ly/WatchDogsFont">Hacked</a>, by <a href="https://davidlibeau.fr/" rel="noopener">David Libeau</a>
                        </li>
                        <li><a target="_blank" rel="noopener" class="" href="https://www.dafont.com/heroes-legend.font">Heroes Legend | Hollow</a>, by <a href="http://www.imagex-fonts.com/" rel="noopener">Imagex</a></li>
                        <li><a target="_blank" rel="noopener" class="" href="https://www.dafont.com/ssf4-abuket.font">SSF4 Bucket</a>, by <a href="https://www.dafont.com/javier-guevara-valle.d2708" rel="noopener">ArcJavier</a></li>
                        <li><a target="_blank" rel="noopener" class="" href="https://www.dafont.com/android-assassin.font">Android Assassin</a>, by <a href="https://www.dafont.com/darrell-flood.d4895" rel="noopener">Darrell Flood</a></li>
                        <li><a target="_blank" rel="noopener" class="" href="https://www.dafontfree.net/freefonts-futura-f30.htm">Futura Bold</a>, by <a href="#" rel="noopener">?</a></li>
                        <li><a target="_blank" rel="noopener" class="" href="https://www.dafontfree.net/freefonts-impact-f129612.htm">Impact</a>, by <a href="#" rel="noopener">?</a></li>
                        <li>NEW <a target="_blank" rel="noopener" class="" href="https://fontsgeek.com/fonts/Gotham-Black-Regular">Gotham Black</a>, by <a href="#" rel="noopener">?</a></li>
                        <li>Autres polices : <a href="https://fonts.google.com/" rel="noopener">Google Fonts</a></li>
                    </ul>
                </div>
                <span style="font-size: x-small">Si je me suis trompé sur les sources, contactez moi !</span>
            </div>
            <button class="nes-btn" onclick="document.getElementById('dialog-credits').style.display = 'none'">Ok</button>
        </div>
    </div>
    <!-- Edit VS -->
    <div class="nes-container is-dark with-title window" id="dialog-versus" style="display: none">
        <div class="bordure-container">
            <p class="title-container">Versus : </p>
            <div class="center">
                <button class="nes-btn is-success" type="button" id="versus-visible"><i class="material-icons" style="font-size: 20px;">visibility_off</i>
                    <span>Invisible</span>
                </button>
            </div>
            <div class="center">
                <input type="color" id="versus-color" />
                <label for="versus-color">Couleur</label>
            </div>
            <div class="center">
                <label><input type="checkbox" class="nes-checkbox is-dark" id="versus-bold" />
                    <span> Gras ? </span>
                </label>
            </div>
            <div class="center">
                <label>
                    <input type="checkbox" class="nes-checkbox is-dark" id="versus-border" checked />
                    <span> Ombre ? </span>
                </label>
            </div>
            <menu class="dialog-menu">
                <button class="nes-btn is-success center" onclick="document.getElementById('dialog-versus').style.display = 'none';">OK</button>
            </menu>
        </div>
    </div>
    <!-- Edit tag J1 -->
    <div class="nes-container is-dark with-title window" id="dialog-tag-j1" style="display: none">
        <div class="bordure-container">
            <p class="title-container">Pseudo Joueur 1 : </p>
            <!--            <form method="dialog">-->
            <div class="buttons-rotate">
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-left-j1"><i class="material-icons rotate-left">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-center-j1"><i class="material-icons">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-right-j1"><i class="material-icons rotate-right">crop_16_9</i></button>
            </div>
            <div style="background-color:#212529; padding: 1rem;" class="nes-field">
                <input type="text" id="j1" class="nes-input is-dark" value="J1" size="10" placeholder="Pseudo">
            </div>
            <div style="background-color:#212529; padding: 1rem;" class="nes-field">
                <label for="fontsize-j1" class="center" style="color:#fff;">Taille (px)</label>
                <input type="text" id="fontsize-j1" class="nes-input is-dark" maxlength="3" value="44" placeholder="___" oninput="setTagFont('j1')">
            </div>
            <label>
                <input type="checkbox" class="nes-checkbox is-dark" id="bold-j1" />
                <span> En gras ?</span>
            </label>
            <div>
                <input type="color" id="color-j1" />
                <label for="color-j1">Texte</label>
            </div>
            <div>
                <input type="color" id="color-bg-j1" />
                <label for="color-bg-j1">Fond</label>
            </div>
            <menu class="dialog-menu">
                <button class="nes-btn is-success center" onclick="document.getElementById('dialog-tag-j1').style.display = 'none';">OK</button>
            </menu>
            <!--            </form>-->
        </div>
    </div>
    <!-- Edit tag J2 -->
    <div class="nes-container is-dark with-title window" id="dialog-tag-j2" style="display: none">
        <div class="bordure-container">
            <p class="title-container">Pseudo Joueur 2 : </p>
            <!--            <form method="dialog">-->
            <div class="buttons-rotate">
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-left-j2"><i class="material-icons rotate-left">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-center-j2"><i class="material-icons">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-right-j2"><i class="material-icons rotate-right">crop_16_9</i></button>
            </div>
            <div style="background-color:#212529; padding: 1rem;" class="nes-field">
                <input type="text" id="j2" class="nes-input is-dark" value="J2" size="10" placeholder="Pseudo">
            </div>
            <div style="background-color:#212529; padding: 1rem;" class="nes-field">
                <label for="fontsize-j2" class="center" style="color:#fff;">Taille (px)</label>
                <input type="text" id="fontsize-j2" class="nes-input is-dark" maxlength="3" value="44" placeholder="___" oninput="setTagFont('j2')">
            </div>
            <label>
                <input type="checkbox" class="nes-checkbox is-dark" id="bold-j2" />
                <span> En gras ?</span>
            </label>
            <div>
                <input type="color" id="color-j2" />
                <label for="color-j2">Texte</label>
            </div>
            <div>
                <input type="color" id="color-bg-j2" />
                <label for="color-bg-j2">Fond</label>
            </div>
            <menu class="dialog-menu">
                <button class="nes-btn is-success center" onclick="document.getElementById('dialog-tag-j2').style.display = 'none';">OK</button>
            </menu>
            <!--            </form>-->
        </div>
    </div>
    <!--    Edit phases-->
    <div class="nes-container is-dark with-title window" id="dialog-phases" style="display: none">
        <div class="bordure-container">
            <p class="title-container">Phase</p>
            <div class="center">
                <button class="nes-btn is-success" type="button" id="phase_visible"><i class="material-icons" style="font-size: 20px;">visibility_off</i>
                    <span>Invisible</span>
                </button>
            </div>
            <div class="center">
                <input type="color" id="color-phase" />
                <label for="color-phase">Texte</label>
                <input type="color" id="color-bg-phase" />
                <label for="color-bg-phase">Fond</label>
            </div>
            <hr>
            <div class="buttons-rotate">
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-left-phase"><i class="material-icons rotate-left">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-center-phase"><i class="material-icons">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-right-phase"><i class="material-icons rotate-right">crop_16_9</i></button>
            </div>
            <div style="background-color:#212529; padding: 1rem; display: flex; align-items: center;" class="nes-field">
                <label for="fontsize-phase" class="center" style="color:#fff;">Taille (px)</label>
                <input type="text" id="fontsize-phase" class="nes-input is-dark" maxlength="3" value="44" placeholder="___" oninput="setPhaseFont('phase')">
                <label>
                    <input type="checkbox" class="nes-checkbox is-dark" id="bold-phase" />
                    <span> En gras ?</span>
                </label>
            </div>
            <div id="type_phase">
                <div id="form_type_phase">
                    <label class="radio"><input id="custom" type="radio" class="nes-radio" name="type_phase" value=""><span>Custom : </span><input id="custom_phase" type="text" name="custome_phase" size="10" /></label><br>
                    <label class="radio"><input id="pool" type="radio" class="nes-radio" name="type_phase" value="Pools"><span>Pools</span></label>
                    <label class="radio">
                        <input id="winner" type="radio" class="nes-radio" name="type_phase" value="Winners" checked><span>Winners</span></label>
                    <label class="radio">
                        <input id="loser" type="radio" class="nes-radio" name="type_phase" value="Losers"><span>Losers</span></label>
                    <label class="radio">
                        <input id="grand" type="radio" class="nes-radio" name="type_phase" value="Grand"><span>Grand</span></label>
                </div>
            </div>
            <hr>
            <div class="buttons-rotate">
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-left-phase2"><i class="material-icons rotate-left">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-center-phase2"><i class="material-icons">crop_16_9</i></button>
                <button class="nes-btn is-primary icons-only" type="button" id="rotate-right-phase2"><i class="material-icons rotate-right">crop_16_9</i></button>
            </div>
            <div style="background-color:#212529; padding: 1rem; display: flex; align-items: center;" class="nes-field">
                <label for="fontsize-phase2" class="center" style="color:#fff;">Taille (px)</label>
                <input type="text" id="fontsize-phase2" class="nes-input is-dark" maxlength="3" value="44" placeholder="___" oninput="setPhaseFont('phase2')">
                <label>
                    <input type="checkbox" class="nes-checkbox is-dark" id="bold-phase2" />
                    <span> En gras ?</span>
                </label>
            </div>
            <div id="select_phase" class="center">
                <div id="form_select_phase">
                    <label class="radio"><input id="custom1" type="radio" class="nes-radio" name="phase" value=""><span>Custom : </span><input id="custom_phase2" type="text" name="custome_phase2" size="10" /></label><br>
                    <!--                TODO autoriser que number-->
                    <label class="radio"><input id="round" type="radio" class="nes-radio" name="phase" value="Round" checked><span>Round </span><input id="nb_round" type="text" name="nb_round" maxlength="2" size="1" value="1" /></label>
                    <label class="radio"><input id="quarter" type="radio" class="nes-radio" name="phase" value="Quarters"><span>Quarters</span></label>
                    <label class="radio"><input id="semi" type="radio" class="nes-radio" name="phase" value="Semis"><span>Semis</span></label>
                    <label class="radio"><input id="final" type="radio" class="nes-radio" name="phase" value="Finals"><span>Finals</span></label>
                </div>
            </div>
            <menu class="dialog-menu">
                <button class="nes-btn is-success center" onclick="document.getElementById('dialog-phases').style.display = 'none';">OK</button>
            </menu>
        </div>
    </div>
    <!-- TODO nouveau miis -->
    <!-- TODO FR / EN -->
    <div class="center margin-auto"><span id="menu-top" class="center margin-auto nes-text">VoDs Thumbnails Generator for </span>
        <div style="display: flex">
            <button class="nes-btn is-error" target="_blank" rel="noopener" aria-label="twitter" style="margin-left: 1em;" onclick="resetChar()">
                <i class="material-icons">cached</i>
            </button>
            <div class="nes-select" style="width: 50%; margin: auto; padding-bottom: 10px">
                <select required id="game_select" name="game">
                    <option value="pplus">Project +</option>
                    <option value="melee">Super Smash Bros. Melee</option>
                    <option value="wiiu">Super Smash Bros. for Wii U</option>
                    <option value="ult" selected>Super Smash Bros. Ultimate</option>
                    <option value="" disabled> ----- </option>
                    <option value="roa">Rivals of Aether</option>
                    <option value="" disabled> ----- </option>
                    <!-- <option value="PM" disabled>Project M</option> -->
                    <option value="brawl" disabled>Super Smash Bros. Brawl</option>
                    <option value="n64" disabled>Super Smash Bros. 64</option>
                </select>
            </div>
            <button class="credits nes-btn is-warning" target="_blank" rel="noopener" aria-label="twitter" onclick="document.getElementById('dialog-credits').style.display = 'block'">?</button>
        </div>
        <a href="https://twitter.com/Kekwel_SSB" target="_blank" rel="noopener" aria-label="twitter">Bug ? Suggestions ? MP sur <i class="nes-icon twitter"></i></a>
    </div>
    <div id="main">
        <div id="thumbnail" style="margin: auto;">
            <section class="section-banner" id="section-j1">
                <div class="banner rotate-tag-left" id="banner-j1"><span class="nes-text" id="name-j1">J1</span></div>
            </section>

            <section class="section-banner" id="section-j2">
                <div class="banner rotate-tag-left" id="banner-j2"><span class="nes-text" id="name-j2">J2</span></div>
            </section>
            <div class="character solo" id="div-j1-char1">
                <img id="char1-j1" class="" src="">
            </div>
            <div class="character solo" id="div-j2-char1">
                <img id="char1-j2" class="" src="">
            </div>
            <div class="banner rotate-phase-left" id="phase"><span class="nes-text" id="phase-text">Winners</span></div>
            <div class="banner rotate-phase-left" id="phase2"><span class="nes-text" id="phase2-text">Round 1</span></div>
            <div id="dom-wrap-haut">
                <div class="logo" id="logo_haut">
                    <img src="">
                </div>
                <div class="logo" id="logo_bas">
                    <img src="">
                </div>
            </div>
            <div class="banner" id="versus"><span>VS</span></div>
        </div>
    </div>
    <div class="center margin-auto back-color" style="padding: 10px 0; "><button class="nes-btn is-success" type="button" id="download"><i class="material-icons">save_alt</i> Récupérer l'image</button>
    </div>
    <div class="center margin-auto back-color">
        <!--        <label id="fontSize"><input type="number" name="fontSize" min="1" max="100" value="44">px,</label>-->
        <label id="label_font" for="font">Police d'écriture</label>
        <section style="display: inline-block">
            <button type="button" class="nes-btn is-primary icons-only" onclick="document.getElementById('dialog-font').style.display = 'block'">
                ?
            </button>
            <div class="nes-container is-dark with-title window" id="dialog-font" style="display: none">
                <div class="bordure-container">
                    <form method="dialog">
                        <!--                    <p class="title">Polices d'écritures</p>-->
                        <p>Retrouvez les polices utilisées ici : </p>
                        <a target="_blank" href="https://fonts.google.com/">Google Fonts</a>
                        <br>
                        <p>Si la votre n'apparaît pas, <br>contactez moi et je pourrais l'ajouter !</p>
                        <menu class="dialog-menu">
                            <button class="nes-btn is-primary" onclick="document.getElementById('dialog-font').style.display = 'none'">Fermer</button>
                        </menu>
                    </form>
                </div>
            </div>
        </section>
        <div class="nes-select" style="width: 50%; margin: auto; padding-bottom: 10px">
            <select required id="font_select" name="font">
                <option value="" disabled selected hidden>...</option>
            </select>
        </div>
    </div>
    <div id="infos" class="back-color">
        <div class="select_logos panel-color" id="select_logo_haut">
            <label for="down_file" class="custom-file-upload">
                <i class="material-icons">attachment</i> Logo (haut)
            </label><br>
            <input id="up_file" type="file" onchange="previewFile('logo_haut', 'up_file')" accept='image/*'><br>
        </div>
        <div class="select_logos panel-color" id="select_logo_bas">
            <label for="down_file" class="custom-file-upload">
                <i class="material-icons">attachment</i> Logo (bas)
            </label><br>
            <input id="down_file" type="file" onchange="previewFile('logo_bas', 'down_file')" accept='image/*'><br>
        </div>
    </div>
    <div class="footer back-color"></div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script src="js/dom-to-image.min.js"></script>

<script src="js/modal-utils.js"></script>

<script src="js/render-char.js"></script>
<script src="js/thumbnail.js"></script>
<script src="js/parse-char.js"></script>
<script src="js/character/export.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/js/select2.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"></script>
<script src="js/google-fonts.js"></script>

</html>
